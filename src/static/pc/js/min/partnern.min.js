(new function(){this.apply={makeProvince:function(){for(var t=this,e=0,n=province.length;e<n;e++){var i=province[e],o=document.createElement("option");o.value=i.ProID,o.innerText=i.ProName,t.province.appendChild(o)}t.province.onchange=function(){t.makeCity(this.value)}},makeCity:function(t){this.city.innerHTML='<option value="">请选择城市</option>';for(var e=0,n=city.length;e<n;e++){var i=city[e];if(i.ProID==t){var o=document.createElement("option");o.value=i.CityID,o.innerText=i.CityName,this.city.appendChild(o)}}},submitAction:function(){var e=this,t=e.company.value.trim(),n=e.name.value.trim(),i=e.tel.value.trim(),o=e.province.options[e.province.selectedIndex].text.trim(),a=e.city.options[e.city.selectedIndex].text.trim(),p=e.remark.value.trim();return hm.$(".tip-show",e.form)[0]&&hm.$(".tip-show",e.form)[0].classList.remove("tip-show"),t?n?i?/^\d{11}$/.test(i)?o?a?(e.applybtn.onclick=null,void hm.ajax.sendAjax(hm.conf.apiPath+"/apply/investment.json?gen="+hm.conf.key+"&token="+hex_md5(hm.conf.secret+hm.conf.key)+"&companyname="+t+"&address="+o+a+"&contact="+n+"&tel"+i+"&tel="+i+"&email=&qq&temp1="+p,"post",null,function(t){hm.conf.getKey(),"MRMCM0001"==t.code?(hm.applyModal.showTipModal(),e.formInit()):e.applybtn.onclick=function(){e.submitAction()}})):(hm.$(".hm-tips",e.city.parentNode)[0].innerText="请选择城市",void e.city.parentNode.parentNode.classList.add("tip-show")):(hm.$(".hm-tips",e.province.parentNode)[0].innerText="请选择省份",void e.province.parentNode.parentNode.classList.add("tip-show")):(hm.$(".hm-tips",e.tel.parentNode)[0].innerText="手机号格式不正确",void e.tel.parentNode.parentNode.classList.add("tip-show")):(hm.$(".hm-tips",e.tel.parentNode)[0].innerText="请输入手机号",void e.tel.parentNode.parentNode.classList.add("tip-show")):(hm.$(".hm-tips",e.name.parentNode)[0].innerText="请输入姓名",void e.name.parentNode.parentNode.classList.add("tip-show")):(hm.$(".hm-tips",e.company.parentNode)[0].innerText="请输入公司名",void e.company.parentNode.parentNode.classList.add("tip-show"))},formInit:function(){var t=this;t.company.value="",t.name.value="",t.tel.value="",t.remark.value="",t.province.options[0].selected=!0,t.city.options[0].selected=!0,t.applybtn.onclick=function(){t.submitAction()}},init:function(){var t=this;this.form=hm.$(".hm-form",hm.$(".hm-partnern-apply")[0])[0],this.company=hm.$("input",hm.$(".hm-partnern-apply-form-company",this.form)[0])[0],this.name=hm.$("input",hm.$(".hm-partnern-apply-form-name",this.form)[0])[0],this.tel=hm.$("input",hm.$(".hm-partnern-apply-form-tel",this.form)[0])[0],this.province=hm.$("select",hm.$(".hm-partnern-apply-form-province",this.form)[0])[0],this.city=hm.$("select",hm.$(".hm-partnern-apply-form-city",this.form)[0])[0],this.remark=hm.$("textarea",hm.$(".hm-partnern-apply-form-remark",this.form)[0])[0],this.applybtn=hm.$(".hm-partnern-apply-form-applybtn",this.form)[0],t.makeProvince(),this.applybtn.onclick=function(){t.submitAction()}}},this.init=function(){this.apply.init()}}).init();